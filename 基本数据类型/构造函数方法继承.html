<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>

    /**
    call的作用,call方法的第一个参数是this
        1.继承函数的属性和方法
        2.使用call方法调用匿名函数
                function Person() {
            
            this.name = 'person';
            this.age = 24;
            
            this.print = function(){
                console.log('hello call!');
            }
            
        }

        (function(){
            
            this.print();
            
        }).call(new Person());

        3.使用call方法调用函数并且指定上下文的this
                 function print() {

                        var message = [this.person, 'is an awesome', this.role].join(' ');
                        console.log(message);

                    }

                    var desc = {
                        person:'Douglas Crockford',
                        role:'Javascript Developer'
                    }

                    print.call(desc);
    */



        function Articale(){
            this.url = 'article/lists';
        //     this.get = function (params){
        //         console.log(Object.keys(params));
        //     let str =    Object.keys(params).map(
        //             k => `${k}=${params[k]}`
        //         ).join("&"); 
        // console.log(str);
        // console.log(`https://houdunren.com?${this.url}/${str}`);
        
        //     }
         //上面代码可以换成如下写法
         Request.call(this);//这个对象表示当前对象
        }
        
        let a = new Articale();
        console.log(a.get({id:1,cat:"js"}));

        function User (){
            this.url = 'article/lists';
        //     this.get = function (params){
        //         console.log(Object.keys(params));
        //     let str =    Object.keys(params).map(
        //             k => `${k}=${params[k]}`
        //         ).join("&"); 
        //         let url= `https://houdunren.com?${this.url}/${str}`
        // console.log(url);
        // }
        //上面代码可以换成如下写法，Request.call这句的意思是User继承了Request的方法和属性
        Request.call(this);//这个对象表示当前对象，这里call的作用是立即执行的作用
        }

        let user = new User();
        console.log(user.get({id:2, role:"admin"}));



        //
        function Request(){
            this.get = function (params){
                console.log(Object.keys(params));
            let str =    Object.keys(params).map(
                    k => `${k}=${params[k]}`
                ).join("&"); 
                let url= `https://houdunren.com?${this.url}/${str}`
        console.log(url);
        }
        }
        
        
    </script>
</body>
</html>